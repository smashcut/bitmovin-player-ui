!function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./clickoverlay"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=null,r=!t.getConfig().advertising||!t.getConfig().advertising.hasOwnProperty("clickThroughEnabled")||t.getConfig().advertising.clickThroughEnabled;t.addEventHandler(t.EVENT.ON_AD_STARTED,function(e){i=e.clickThroughUrl,r?o.setUrl(i):o.setUrl(null)});var s=function(){o.setUrl(null)};t.addEventHandler(t.EVENT.ON_AD_FINISHED,s),t.addEventHandler(t.EVENT.ON_AD_SKIPPED,s),t.addEventHandler(t.EVENT.ON_AD_ERROR,s),this.onClick.subscribe(function(){t.pause("ui-content-click"),t.fireEvent(t.EVENT.ON_AD_CLICKED,{clickThroughUrl:i})})},t}(i.ClickOverlay);n.AdClickOverlay=r},{"./clickoverlay":12}],2:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./label"),r=e("../utils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-label-ad-message",text:"This ad will end in {remainingTime} seconds."},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig().text,s=function(){o.setText(r.StringUtils.replaceAdMessagePlaceholders(i,null,t))},a=function(e){i=e.adMessage||i,s(),t.addEventHandler(t.EVENT.ON_TIME_CHANGED,s),t.addEventHandler(t.EVENT.ON_CAST_TIME_UPDATED,s)},c=function(){t.removeEventHandler(t.EVENT.ON_TIME_CHANGED,s),t.removeEventHandler(t.EVENT.ON_CAST_TIME_UPDATED,s)};t.addEventHandler(t.EVENT.ON_AD_STARTED,a),t.addEventHandler(t.EVENT.ON_AD_SKIPPED,c),t.addEventHandler(t.EVENT.ON_AD_ERROR,c),t.addEventHandler(t.EVENT.ON_AD_FINISHED,c)},t}(i.Label);n.AdMessageLabel=s},{"../utils":54,"./label":21}],3:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../utils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-button-ad-skip",skipMessage:{countdown:"Skip ad in {remainingTime}",skip:"Skip ad"}},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=i.skipMessage,a=null,c=function(){a.skipOffset?o.show():o.hide(),t.getCurrentTime()<a.skipOffset?o.setText(r.StringUtils.replaceAdMessagePlaceholders(i.skipMessage.countdown,a.skipOffset,t)):o.setText(i.skipMessage.skip)},l=function(e){a=e,s=a.skipMessage||s,c(),t.addEventHandler(t.EVENT.ON_TIME_CHANGED,c),t.addEventHandler(t.EVENT.ON_CAST_TIME_UPDATED,c)},u=function(){t.removeEventHandler(t.EVENT.ON_TIME_CHANGED,c),t.removeEventHandler(t.EVENT.ON_CAST_TIME_UPDATED,c)};t.addEventHandler(t.EVENT.ON_AD_STARTED,l),t.addEventHandler(t.EVENT.ON_AD_SKIPPED,u),t.addEventHandler(t.EVENT.ON_AD_ERROR,u),t.addEventHandler(t.EVENT.ON_AD_FINISHED,u),this.onClick.subscribe(function(){t.skipAd()})},t}(i.Button);n.AdSkipButton=s},{"../utils":54,"./button":8}],4:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-airplaytogglebutton",text:"Apple AirPlay"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isAirplayAvailable()?t.showAirplayTargetPicker():console&&console.log("AirPlay unavailable")});var i=function(){t.isAirplayAvailable()?o.show():o.hide()};t.addEventHandler(t.EVENT.ON_AIRPLAY_AVAILABLE,i),i()},t}(i.ToggleButton);n.AirPlayToggleButton=r},{"./togglebutton":39}],5:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getAvailableAudioQualities();o.clearItems(),o.addItem("auto","auto");for(var n=0,i=e;n<i.length;n++){var r=i[n];o.addItem(r.id,r.label)}};this.onItemSelected.subscribe(function(e,n){t.setAudioQuality(n)}),t.addEventHandler(t.EVENT.ON_AUDIO_CHANGED,i),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,i),t.addEventHandler(t.EVENT.ON_READY,i),t.addEventHandler(t.EVENT.ON_AUDIO_DOWNLOAD_QUALITY_CHANGE,function(){var e=t.getDownloadedAudioData();o.selectItem(e.isAuto?"auto":e.id)}),i()},t}(i.SelectBox);n.AudioQualitySelectBox=r},{"./selectbox":32}],6:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getAvailableAudio();o.clearItems();for(var n=0,i=e;n<i.length;n++){var r=i[n];o.addItem(r.id,r.label)}};this.onItemSelected.subscribe(function(e,n){t.setAudio(n)});var r=function(){var e=t.getAudio();e&&o.selectItem(e.id)};t.addEventHandler(t.EVENT.ON_AUDIO_CHANGED,r),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,i),t.addEventHandler(t.EVENT.ON_READY,i),i(),r()},t}(i.SelectBox);n.AudioTrackSelectBox=r},{"./selectbox":32}],7:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./component"),s=e("../timeout"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.indicators=[new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"})],n.config=n.mergeConfig(t,{cssClass:"ui-buffering-overlay",hidden:!0,components:n.indicators,showDelayMs:1e3},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=new s.Timeout(i.showDelayMs,function(){o.show()}),a=function(){r.start()},c=function(){r.clear(),o.hide()};t.addEventHandler(t.EVENT.ON_STALL_STARTED,a),t.addEventHandler(t.EVENT.ON_STALL_ENDED,c),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,c),t.isStalled()&&this.show()},t}(i.Container);n.BufferingOverlay=a},{"../timeout":52,"./component":14,"./container":15}],8:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.buttonEvents={onClick:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-button"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("button",{type:"button",id:this.config.id,class:this.getCssClasses()}).append(new r.DOM("span",{class:this.prefixCss("label")}).html(this.config.text));return t.on("click",function(){e.onClickEvent()}),t},t.prototype.setText=function(e){this.getDomElement().find("."+this.prefixCss("label")).html(e)},t.prototype.onClickEvent=function(){this.buttonEvents.onClick.dispatch(this)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.buttonEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.Button=a},{"../dom":48,"../eventdispatcher":49,"./component":14}],9:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.statusLabel=new r.Label({cssClass:"ui-cast-status-label"}),n.config=n.mergeConfig(t,{cssClass:"ui-cast-status-overlay",components:[n.statusLabel],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),t.addEventHandler(t.EVENT.ON_CAST_WAITING_FOR_DEVICE,function(e){o.show();var t=e.castPayload.deviceName;o.statusLabel.setText("Connecting to <strong>"+t+"</strong>...")}),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(e){o.show();var t=e.deviceName;o.statusLabel.setText("Playing on <strong>"+t+"</strong>")}),t.addEventHandler(t.EVENT.ON_CAST_STOPPED,function(e){o.hide()})},t}(i.Container);n.CastStatusOverlay=s},{"./container":15,"./label":21}],10:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-casttogglebutton",text:"Google Cast"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isCastAvailable()?t.isCasting()?t.castStop():t.castVideo():console&&console.log("Cast unavailable")});var i=function(){t.isCastAvailable()?o.show():o.hide()};t.addEventHandler(t.EVENT.ON_CAST_AVAILABLE,i),t.addEventHandler(t.EVENT.ON_CAST_WAITING_FOR_DEVICE,function(){o.on()}),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(){o.on()}),t.addEventHandler(t.EVENT.ON_CAST_STOPPED,function(){o.off()}),i(),t.isCasting()&&this.on()},t}(i.ToggleButton);n.CastToggleButton=r},{"./togglebutton":39}],11:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./uicontainer"),r=e("../timeout"),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=!1,a=function(){n.onControlsHide.dispatch(o),s=!1};this.castUiHideTimeout=new r.Timeout(i.hideDelay,a);var c=function(){s||(n.onControlsShow.dispatch(o),s=!0)},l=function(){c(),o.castUiHideTimeout.clear()},u=function(){c(),o.castUiHideTimeout.start()},p=function(){t.isPlaying()?u():l()};t.addEventHandler(t.EVENT.ON_READY,u),t.addEventHandler(t.EVENT.ON_SOURCE_LOADED,u),t.addEventHandler(t.EVENT.ON_PLAY,u),t.addEventHandler(t.EVENT.ON_PAUSED,l),t.addEventHandler(t.EVENT.ON_SEEK,l),t.addEventHandler(t.EVENT.ON_SEEKED,p)},t.prototype.release=function(){e.prototype.release.call(this),this.castUiHideTimeout.clear()},t}(i.UIContainer);n.CastUIContainer=s},{"../timeout":52,"./uicontainer":41}],12:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-clickoverlay"},n.config),n}return o(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.setUrl(this.config.url);var t=this.getDomElement();t.on("click",function(){t.data("url")&&window.open(t.data("url"),"_blank")})},t.prototype.getUrl=function(){return this.getDomElement().data("url")},t.prototype.setUrl=function(e){void 0!==e&&null!=e||(e=""),this.getDomElement().data("url",e)},t}(i.Button);n.ClickOverlay=r},{"./button":8}],13:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-closebutton",text:"Close"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n);var o=this.getConfig();this.onClick.subscribe(function(){o.target.hide()})},t}(i.Button);n.CloseButton=r},{"./button":8}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../guid"),i=e("../dom"),r=e("../eventdispatcher"),s=function(){function e(e){void 0===e&&(e={}),this.componentEvents={onShow:new r.EventDispatcher,onHide:new r.EventDispatcher,onHoverChanged:new r.EventDispatcher},this.config=this.mergeConfig(e,{tag:"div",id:"bmpui-id-"+o.Guid.next(),cssPrefix:"bmpui",cssClass:"ui-component",cssClasses:[],hidden:!1},{})}return e.prototype.initialize=function(){this.hidden=this.config.hidden,this.isHidden()&&(this.hidden=!1,this.hide())},e.prototype.configure=function(e,t){var n=this;this.onShow.subscribe(function(){t.onComponentShow.dispatch(n)}),this.onHide.subscribe(function(){t.onComponentHide.dispatch(n)}),this.getDomElement().on("mouseenter",function(){n.onHoverChangedEvent(!0)}),this.getDomElement().on("mouseleave",function(){n.onHoverChangedEvent(!1)})},e.prototype.release=function(){},e.prototype.toDomElement=function(){return new i.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()})},e.prototype.getDomElement=function(){return this.element||(this.element=this.toDomElement()),this.element},e.prototype.mergeConfig=function(e,t,n){return Object.assign({},n,t,e)},e.prototype.getCssClasses=function(){var e=this,t=[this.config.cssClass].concat(this.config.cssClasses);return t=t.map(function(t){return e.prefixCss(t)}),t.join(" ").trim()},e.prototype.prefixCss=function(e){return this.config.cssPrefix+"-"+e},e.prototype.getConfig=function(){return this.config},e.prototype.hide=function(){this.hidden||(this.hidden=!0,this.getDomElement().addClass(this.prefixCss(e.CLASS_HIDDEN)),this.onHideEvent())},e.prototype.show=function(){this.hidden&&(this.getDomElement().removeClass(this.prefixCss(e.CLASS_HIDDEN)),this.hidden=!1,this.onShowEvent())},e.prototype.isHidden=function(){return this.hidden},e.prototype.isShown=function(){return!this.isHidden()},e.prototype.toggleHidden=function(){this.isHidden()?this.show():this.hide()},e.prototype.isHovered=function(){return this.hovered},e.prototype.onShowEvent=function(){this.componentEvents.onShow.dispatch(this)},e.prototype.onHideEvent=function(){this.componentEvents.onHide.dispatch(this)},e.prototype.onHoverChangedEvent=function(e){this.hovered=e,this.componentEvents.onHoverChanged.dispatch(this,{hovered:e})},Object.defineProperty(e.prototype,"onShow",{get:function(){return this.componentEvents.onShow.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHide",{get:function(){return this.componentEvents.onHide.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHoverChanged",{get:function(){return this.componentEvents.onHoverChanged.getEvent()},enumerable:!0,configurable:!0}),e}();s.CLASS_HIDDEN="hidden",n.Component=s},{"../dom":48,"../eventdispatcher":49,"../guid":50}],15:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../utils"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-container",components:[]},n.config),n}return o(t,e),t.prototype.addComponent=function(e){this.config.components.push(e)},t.prototype.removeComponent=function(e){return null!=s.ArrayUtils.remove(this.config.components,e)},t.prototype.getComponents=function(){return this.config.components},t.prototype.removeComponents=function(){for(var e=0,t=this.getComponents();e<t.length;e++){var n=t[e];this.removeComponent(n)}},t.prototype.updateComponents=function(){this.innerContainerElement.empty();for(var e=0,t=this.config.components;e<t.length;e++){var n=t[e];this.innerContainerElement.append(n.getDomElement())}},t.prototype.toDomElement=function(){var e=new r.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()}),t=new r.DOM(this.config.tag,{class:this.prefixCss("container-wrapper")});return this.innerContainerElement=t,this.updateComponents(),e.append(t),e},t}(i.Component);n.Container=a},{"../dom":48,"../utils":54,"./component":14}],16:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("../utils"),s=e("./spacer"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-controlbar",hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var a=0;r.UIUtils.traverseTree(this,function(e){e instanceof i.Container||e instanceof s.Spacer||e.onHoverChanged.subscribe(function(e,t){t.hovered?a++:a--})}),n.onControlsShow.subscribe(function(){o.show()}),n.onPreviewControlsHide.subscribe(function(e,t){t.cancel=a>0}),n.onControlsHide.subscribe(function(){o.hide()})},t}(i.Container);n.ControlBar=a},{"../utils":54,"./container":15,"./spacer":35}],17:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./tvnoisecanvas"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.errorLabel=new r.Label({cssClass:"ui-errormessage-label"}),n.tvNoiseBackground=new s.TvNoiseCanvas,n.config=n.mergeConfig(t,{cssClass:"ui-errormessage-overlay",components:[n.tvNoiseBackground,n.errorLabel],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig();t.addEventHandler(t.EVENT.ON_ERROR,function(e){var t=e.message;if(i.messages)if("function"==typeof i.messages)t=i.messages(e);else if(i.messages[e.code]){var n=i.messages[e.code];t="string"==typeof n?n:n(e)}o.errorLabel.setText(t),o.tvNoiseBackground.start(),o.show()}),t.addEventHandler(t.EVENT.ON_SOURCE_LOADED,function(e){o.isShown()&&(o.tvNoiseBackground.stop(),o.hide())})},t}(i.Container);n.ErrorMessageOverlay=a},{"./container":15,"./label":21,"./tvnoisecanvas":40}],18:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-fullscreentogglebutton",text:"Fullscreen"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){t.isFullscreen()?o.on():o.off()};t.addEventHandler(t.EVENT.ON_FULLSCREEN_ENTER,i),t.addEventHandler(t.EVENT.ON_FULLSCREEN_EXIT,i),this.onClick.subscribe(function(){t.isFullscreen()?t.exitFullscreen():t.enterFullscreen()}),i()},t}(i.ToggleButton);n.FullscreenToggleButton=r},{"./togglebutton":39}],19:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./playbacktogglebutton"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugeplaybacktogglebutton",text:"Play/Pause"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n,!1);var i=function(){t.isPlaying()?t.pause("ui-overlay"):t.play("ui-overlay")},r=function(){t.isFullscreen()?t.exitFullscreen():t.enterFullscreen()},s=!0,a=0,c=0;this.onClick.subscribe(function(){if(s)return void i();var e=Date.now();return e-a<200?(r(),void(c=e)):e-a<500?(r(),i(),void(c=e)):(a=e,void setTimeout(function(){Date.now()-c>200&&i()},200))}),t.addEventHandler(t.EVENT.ON_PLAY,function(){s=!1});var l=function(e){e.type===t.EVENT.ON_CAST_START?o.hide():o.show()};t.addEventHandler(t.EVENT.ON_CAST_START,l),t.addEventHandler(t.EVENT.ON_CAST_STARTED,l),t.addEventHandler(t.EVENT.ON_CAST_STOPPED,l)},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new r.DOM("div",{class:this.prefixCss("image")})),t},t}(i.PlaybackToggleButton);n.HugePlaybackToggleButton=s},{"../dom":48,"./playbacktogglebutton":27}],20:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugereplaybutton",text:"Replay"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.play("ui-overlay")})},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new r.DOM("div",{class:this.prefixCss("image")})),t},t}(i.Button);n.HugeReplayButton=s},{"../dom":48,"./button":8}],21:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.labelEvents={onClick:new s.EventDispatcher,onTextChanged:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-label"},n.config),n.text=n.config.text,n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("span",{id:this.config.id,class:this.getCssClasses()}).html(this.text);return t.on("click",function(){e.onClickEvent()}),t},t.prototype.setText=function(e){this.text=e,this.getDomElement().html(e),this.onTextChangedEvent(e)},t.prototype.getText=function(){return this.text},t.prototype.clearText=function(){this.getDomElement().html(""),this.onTextChangedEvent(null)},t.prototype.isEmpty=function(){return!this.text},t.prototype.onClickEvent=function(){this.labelEvents.onClick.dispatch(this)},t.prototype.onTextChangedEvent=function(e){this.labelEvents.onTextChanged.dispatch(this,e)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.labelEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTextChanged",{get:function(){return this.labelEvents.onTextChanged.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.Label=a},{"../dom":48,"../eventdispatcher":49,"./component":14}],22:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../eventdispatcher"),s=e("../utils"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.listSelectorEvents={onItemAdded:new r.EventDispatcher,onItemRemoved:new r.EventDispatcher,onItemSelected:new r.EventDispatcher},n.config=n.mergeConfig(t,{items:[],cssClass:"ui-listselector"},n.config),n.items=n.config.items,n}return o(t,e),t.prototype.getItemIndex=function(e){for(var t in this.items)if(e===this.items[t].key)return parseInt(t);return-1},t.prototype.hasItem=function(e){return this.getItemIndex(e)>-1},t.prototype.addItem=function(e,t){this.removeItem(e),this.items.push({key:e,label:t}),this.onItemAddedEvent(e)},t.prototype.removeItem=function(e){var t=this.getItemIndex(e);return t>-1&&(s.ArrayUtils.remove(this.items,this.items[t]),this.onItemRemovedEvent(e),!0)},t.prototype.selectItem=function(e){return e===this.selectedItem||this.getItemIndex(e)>-1&&(this.selectedItem=e,this.onItemSelectedEvent(e),!0)},t.prototype.getSelectedItem=function(){return this.selectedItem},t.prototype.clearItems=function(){var e=this.items;this.items=[];for(var t=0,n=e;t<n.length;t++){var o=n[t];this.onItemRemovedEvent(o.key)}},t.prototype.itemCount=function(){return Object.keys(this.items).length},t.prototype.onItemAddedEvent=function(e){this.listSelectorEvents.onItemAdded.dispatch(this,e)},t.prototype.onItemRemovedEvent=function(e){this.listSelectorEvents.onItemRemoved.dispatch(this,e)},t.prototype.onItemSelectedEvent=function(e){this.listSelectorEvents.onItemSelected.dispatch(this,e)},Object.defineProperty(t.prototype,"onItemAdded",{get:function(){return this.listSelectorEvents.onItemAdded.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onItemRemoved",{get:function(){return this.listSelectorEvents.onItemRemoved.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onItemSelected",{get:function(){return this.listSelectorEvents.onItemSelected.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.ListSelector=a},{"../eventdispatcher":49,"../utils":54,"./component":14}],23:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./label");!function(e){e[e.Title=0]="Title",e[e.Description=1]="Description"}(i=n.MetadataLabelContent||(n.MetadataLabelContent={}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["label-metadata","label-metadata-"+i[t.content].toLowerCase()]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var r=this.getConfig(),s=n.getConfig(),a=function(){switch(r.content){case i.Title:s&&s.metadata&&s.metadata.title?o.setText(s.metadata.title):t.getConfig().source&&t.getConfig().source.title&&o.setText(t.getConfig().source.title);break;case i.Description:s&&s.metadata&&s.metadata.description?o.setText(s.metadata.description):t.getConfig().source&&t.getConfig().source.description&&o.setText(t.getConfig().source.description)}},c=function(){
o.setText(null)};a(),t.addEventHandler(t.EVENT.ON_SOURCE_LOADED,a),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,c)},t}(r.Label);n.MetadataLabel=s},{"./label":21}],24:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-piptogglebutton",text:"Picture-in-Picture"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isPictureInPictureAvailable()?t.isPictureInPicture()?t.exitPictureInPicture():t.enterPictureInPicture():console&&console.log("PIP unavailable")});var i=function(){t.isPictureInPictureAvailable()?o.show():o.hide()};t.addEventHandler(t.EVENT.ON_READY,i),t.addEventHandler(t.EVENT.ON_PICTURE_IN_PICTURE_ENTER,function(){o.on()}),t.addEventHandler(t.EVENT.ON_PICTURE_IN_PICTURE_EXIT,function(){o.off()}),i(),t.isPictureInPicture()&&this.on()},t}(i.ToggleButton);n.PictureInPictureToggleButton=r},{"./togglebutton":39}],25:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),this.addItem("0.25","0.25x"),this.addItem("0.5","0.5x"),this.addItem("1","Normal"),this.addItem("1.5","1.5x"),this.addItem("2","2x"),this.selectItem("1"),this.onItemSelected.subscribe(function(e,n){t.setPlaybackSpeed(parseFloat(n))})},t}(i.SelectBox);n.PlaybackSpeedSelectBox=r},{"./selectbox":32}],26:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./label"),s=e("../utils");!function(e){e[e.CurrentTime=0]="CurrentTime",e[e.TotalTime=1]="TotalTime",e[e.CurrentAndTotalTime=2]="CurrentAndTotalTime"}(i=n.PlaybackTimeLabelMode||(n.PlaybackTimeLabelMode={}));var a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktimelabel",timeLabelMode:i.CurrentAndTotalTime,hideInLivePlayback:!1},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=!1,a=this.prefixCss("ui-playbacktimelabel-live"),c=this.prefixCss("ui-playbacktimelabel-live-edge"),l=0,u=function(){t.timeShift(0)},p=function(){r=t.isLive(),r?(o.getDomElement().addClass(a),o.setText("Live"),i.hideInLivePlayback&&o.hide(),o.onClick.subscribe(u),f()):(o.getDomElement().removeClass(a),o.getDomElement().removeClass(c),o.show(),o.onClick.unsubscribe(u))};new s.PlayerUtils.LiveStreamDetector(t).onLiveChanged.subscribe(function(e,t){r=t.live,p()});var f=function(){0===t.getTimeShift()?o.getDomElement().addClass(c):o.getDomElement().removeClass(c)},d=function(){r||t.getDuration()===1/0||o.setTime(t.getCurrentTime(),t.getDuration());var e=o.getDomElement().width();e>l&&(l=e,o.getDomElement().css({"min-width":l+"px"}))};t.addEventHandler(t.EVENT.ON_TIME_CHANGED,d),t.addEventHandler(t.EVENT.ON_SEEKED,d),t.addEventHandler(t.EVENT.ON_CAST_TIME_UPDATED,d),t.addEventHandler(t.EVENT.ON_TIME_SHIFT,f),t.addEventHandler(t.EVENT.ON_TIME_SHIFTED,f);var h=function(){l=0,o.getDomElement().css({"min-width":null}),o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?s.StringUtils.FORMAT_HHMMSS:s.StringUtils.FORMAT_MMSS,d()};t.addEventHandler(t.EVENT.ON_READY,h),h()},t.prototype.setTime=function(e,t){var n=s.StringUtils.secondsToTime(e,this.timeFormat),o=s.StringUtils.secondsToTime(t,this.timeFormat);switch(this.config.timeLabelMode){case i.CurrentTime:this.setText(""+n);break;case i.TotalTime:this.setText(""+o);break;case i.CurrentAndTotalTime:this.setText(n+" / "+o)}},t}(r.Label);n.PlaybackTimeLabel=a},{"../utils":54,"./label":21}],27:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=e("../utils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktogglebutton",text:"Play/Pause"},n.config),n}return o(t,e),t.prototype.configure=function(n,o,i){var s=this;void 0===i&&(i=!0),e.prototype.configure.call(this,n,o);var a=!1,c=function(e){a||(n.isPlaying()?s.on():s.off())};n.addEventHandler(n.EVENT.ON_PLAY,c),n.addEventHandler(n.EVENT.ON_PAUSED,c),n.addEventHandler(n.EVENT.ON_PLAYBACK_FINISHED,c),n.addEventHandler(n.EVENT.ON_CAST_STARTED,c),n.addEventHandler(n.EVENT.ON_CAST_PLAYING,c),n.addEventHandler(n.EVENT.ON_CAST_PAUSED,c),n.addEventHandler(n.EVENT.ON_CAST_PLAYBACK_FINISHED,c),new r.PlayerUtils.TimeShiftAvailabilityDetector(n).onTimeShiftAvailabilityChanged.subscribe(function(e,n){n.timeShiftAvailable?s.getDomElement().removeClass(s.prefixCss(t.CLASS_STOPTOGGLE)):s.getDomElement().addClass(s.prefixCss(t.CLASS_STOPTOGGLE))}),i&&this.onClick.subscribe(function(){n.isPlaying()?n.pause("ui-button"):n.play("ui-button")}),o.onSeek.subscribe(function(){a=!0}),o.onSeeked.subscribe(function(){a=!1}),c()},t}(i.ToggleButton);s.CLASS_STOPTOGGLE="stoptoggle",n.PlaybackToggleButton=s},{"../utils":54,"./togglebutton":39}],28:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./hugeplaybacktogglebutton"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.playbackToggleButton=new r.HugePlaybackToggleButton,n.config=n.mergeConfig(t,{cssClass:"ui-playbacktoggle-overlay",components:[n.playbackToggleButton]},n.config),n}return o(t,e),t}(i.Container);n.PlaybackToggleOverlay=s},{"./container":15,"./hugeplaybacktogglebutton":19}],29:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./component"),s=e("../dom"),a=e("../utils"),c=e("./hugereplaybutton"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.replayButton=new c.HugeReplayButton,n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-overlay",hidden:!0,components:[n.replayButton]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){for(var e=0,t=o.getComponents();e<t.length;e++){var n=t[e];n instanceof u&&o.removeComponent(n)}o.updateComponents(),o.getDomElement().removeClass(o.prefixCss("recommendations"))},r=function(){i();var e=n.getConfig().recommendations&&n.getConfig().recommendations.length>0,r=t.getConfig().source&&t.getConfig().source.recommendations&&t.getConfig().source.recommendations.length>0,s=e?n.getConfig().recommendations:r?t.getConfig().source.recommendations:null;if(s){for(var a=1,c=0,l=s;c<l.length;c++){var p=l[c];o.addComponent(new u({itemConfig:p,cssClasses:["recommendation-item-"+a++]}))}o.updateComponents(),o.getDomElement().addClass(o.prefixCss("recommendations"))}};t.addEventHandler(t.EVENT.ON_READY,r),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,function(){i(),o.hide()}),t.addEventHandler(t.EVENT.ON_PLAYBACK_FINISHED,function(){t.isAd()||o.show()}),t.addEventHandler(t.EVENT.ON_PLAY,function(){o.hide()}),r()},t}(i.Container);n.RecommendationOverlay=l;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-item",itemConfig:null},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this.config.itemConfig,t=new s.DOM("a",{id:this.config.id,class:this.getCssClasses(),href:e.url}).css({"background-image":"url("+e.thumbnail+")"}),n=new s.DOM("div",{class:this.prefixCss("background")});t.append(n);var o=new s.DOM("span",{class:this.prefixCss("title")}).append(new s.DOM("span",{class:this.prefixCss("innertitle")}).html(e.title));t.append(o);var i=new s.DOM("span",{class:this.prefixCss("duration")}).append(new s.DOM("span",{class:this.prefixCss("innerduration")}).html(e.duration?a.StringUtils.secondsToTime(e.duration):""));return t.append(i),t},t}(r.Component)},{"../dom":48,"../utils":54,"./component":14,"./container":15,"./hugereplaybutton":20}],30:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=e("../timeout"),c=e("../utils"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.playbackPositionPercentage=0,n.touchSupported="ontouchstart"in window,n.seekBarEvents={onSeek:new s.EventDispatcher,onSeekPreview:new s.EventDispatcher,onSeeked:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-seekbar",vertical:!1,smoothPlaybackPositionUpdateIntervalMs:50},n.config),n.label=n.config.label,n.timelineMarkers=[],n}return o(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.hasLabel()&&this.getLabel().initialize()},t.prototype.configure=function(n,o,i){var r=this;if(void 0===i&&(i=!0),e.prototype.configure.call(this,n,o),i){var s=!0,a=!1,l=!1,u=function(e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),s=!1,!l)if(n.isLive()){if(0===n.getMaxTimeShift())r.setPlaybackPosition(100);else{var i=100-100/n.getMaxTimeShift()*n.getTimeShift();r.setPlaybackPosition(i)}r.setBufferPosition(100)}else{var i=100/n.getDuration()*n.getCurrentTime(),a=n.getVideoBufferLength(),c=n.getAudioBufferLength(),u=Math.min(null!=a?a:Number.MAX_VALUE,null!=c?c:Number.MAX_VALUE);u===Number.MAX_VALUE&&(u=0);var p=100/n.getDuration()*u;(r.config.smoothPlaybackPositionUpdateIntervalMs===t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED||o||n.isPaused()||n.isPaused()===n.isPlaying())&&r.setPlaybackPosition(i),r.setBufferPosition(i+p)}};n.addEventHandler(n.EVENT.ON_READY,u),n.addEventHandler(n.EVENT.ON_TIME_CHANGED,u),n.addEventHandler(n.EVENT.ON_STALL_ENDED,u),n.addEventHandler(n.EVENT.ON_SEEKED,u),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,u),n.addEventHandler(n.EVENT.ON_SEGMENT_REQUEST_FINISHED,u),n.addEventHandler(n.EVENT.ON_CAST_TIME_UPDATED,u),n.addEventHandler(n.EVENT.ON_SEEK,function(){r.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_SEEKED,function(){r.setSeeking(!1)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFT,function(){r.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,function(){r.setSeeking(!1)});var p=function(e){n.isLive()?n.timeShift(n.getMaxTimeShift()-n.getMaxTimeShift()*(e/100)):n.seek(n.getDuration()*(e/100))};this.onSeek.subscribe(function(e){l=!0,o.onSeek.dispatch(e),(a=n.isPlaying())&&n.pause("ui-seek")}),this.onSeekPreview.subscribe(function(e,t){o.onSeekPreview.dispatch(e,t)}),this.onSeekPreview.subscribeRateLimited(function(e,t){t.scrubbing&&p(t.position)},200),this.onSeeked.subscribe(function(e,t){l=!1,p(t),a&&n.play("ui-seek"),o.onSeeked.dispatch(e)}),this.hasLabel()&&this.getLabel().configure(n,o);var f=!1,d=!1,h=function(e,t){e&&!t?r.hide():r.show(),u(null,!0),r.refreshPlaybackPosition()};new c.PlayerUtils.LiveStreamDetector(n).onLiveChanged.subscribe(function(e,t){f=t.live,h(f,d)}),new c.PlayerUtils.TimeShiftAvailabilityDetector(n).onTimeShiftAvailabilityChanged.subscribe(function(e,t){d=t.timeShiftAvailable,h(f,d)}),n.addEventHandler(n.EVENT.ON_PLAYER_RESIZE,function(){r.refreshPlaybackPosition()}),o.onConfigured.subscribe(function(){r.refreshPlaybackPosition()}),n.addEventHandler(n.EVENT.ON_READY,function(){r.refreshPlaybackPosition()}),u(),this.setBufferPosition(0),this.setSeekPosition(0),this.config.smoothPlaybackPositionUpdateIntervalMs!==t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED&&this.configureSmoothPlaybackPositionUpdater(n,o),this.configureMarkers(n,o)}},t.prototype.configureSmoothPlaybackPositionUpdater=function(e,t){var n=this,o=0,i=0;this.smoothPlaybackPositionUpdater=new a.Timeout(50,function(){o+=.05,i=e.getCurrentTime();var t=o-i;Math.abs(t)>2?o=i:t<=-.05?o+=.05:t>=.05&&(o-=.05);var r=100/e.getDuration()*o;n.setPlaybackPosition(r)},!0);var r=function(){e.isLive()||(o=e.getCurrentTime(),n.smoothPlaybackPositionUpdater.start())},s=function(){n.smoothPlaybackPositionUpdater.clear()};e.addEventHandler(e.EVENT.ON_PLAY,r),e.addEventHandler(e.EVENT.ON_CAST_PLAYING,r),e.addEventHandler(e.EVENT.ON_PAUSED,s),e.addEventHandler(e.EVENT.ON_CAST_PAUSED,s),e.addEventHandler(e.EVENT.ON_SEEKED,function(){o=e.getCurrentTime()}),e.isPlaying()&&r()},t.prototype.configureMarkers=function(e,t){var n=this,o=function(){n.timelineMarkers=[],n.updateMarkers()},i=function(){o();var i=t.getConfig().metadata&&t.getConfig().metadata.markers&&t.getConfig().metadata.markers.length>0,r=e.getConfig().source&&e.getConfig().source.markers&&e.getConfig().source.markers.length>0,s=i?t.getConfig().metadata.markers:r?e.getConfig().source.markers:null;if(s&&e.getDuration()!==1/0)for(var a=0,c=s;a<c.length;a++){var l=c[a],u={time:100/e.getDuration()*l.time,title:l.title,markerType:""+(l.markerType||1),comment:l.comment||"",avatar:l.avatar,number:l.number||""};n.timelineMarkers.push(u)}n.updateMarkers()};e.addEventHandler(e.EVENT.ON_READY,i),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,o),i()},t.prototype.release=function(){e.prototype.release.call(this),this.smoothPlaybackPositionUpdater&&this.smoothPlaybackPositionUpdater.clear()},t.prototype.toDomElement=function(){var e=this;this.config.vertical&&this.config.cssClasses.push("vertical");var t=new r.DOM("div",{id:this.config.id,class:this.getCssClasses()}),n=new r.DOM("div",{class:this.prefixCss("seekbar")});this.seekBar=n;var o=new r.DOM("div",{class:this.prefixCss("seekbar-bufferlevel")});this.seekBarBufferPosition=o;var i=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition")});this.seekBarPlaybackPosition=i;var s=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition-marker")});this.seekBarPlaybackPositionMarker=s;var a=new r.DOM("div",{class:this.prefixCss("seekbar-seekposition")});this.seekBarSeekPosition=a;var c=new r.DOM("div",{class:this.prefixCss("seekbar-backdrop")});this.seekBarBackdrop=c;var l=new r.DOM("div",{class:this.prefixCss("seekbar-markers")});this.seekBarMarkersContainer=l,n.append(c,o,a,i,l,s);var u=!1,p=function(t){t.preventDefault(),t.stopPropagation();var n=100*e.getOffset(t);e.setSeekPosition(n),e.setPlaybackPosition(n),e.onSeekPreviewEvent(n,!0)},f=function(t){t.preventDefault(),new r.DOM(document).off("touchmove mousemove",p),new r.DOM(document).off("touchend mouseup",f);var n=100*e.getOffset(t),o=e.getMarkerAtPosition(n);e.setSeeking(!1),u=!1,e.onSeekedEvent(o?o.time:n)};return n.on("touchstart mousedown",function(t){var n=e.touchSupported&&t instanceof TouchEvent;t.preventDefault(),t.stopPropagation(),e.setSeeking(!0),u=!0,e.onSeekEvent(),new r.DOM(document).on(n?"touchmove":"mousemove",p),new r.DOM(document).on(n?"touchend":"mouseup",f)}),n.on("touchmove mousemove",function(t){t.preventDefault(),u&&(t.stopPropagation(),p(t));var n=100*e.getOffset(t);e.setSeekPosition(n),e.onSeekPreviewEvent(n,!1),e.hasLabel()&&e.getLabel().isHidden()&&e.getLabel().show()}),n.on("touchend mouseleave",function(t){t.preventDefault(),e.setSeekPosition(0),e.hasLabel()&&e.getLabel().hide()}),t.append(n),this.label&&t.append(this.label.getDomElement()),t},t.prototype.updateMarkers=function(){this.seekBarMarkersContainer.empty();for(var e=0,t=this.timelineMarkers;e<t.length;e++){var n=t[e],o="2"===n.markerType?this.prefixCss("seekbar-marker-typetwo"):this.prefixCss("seekbar-marker"),i=new r.DOM("div",{class:o,"data-marker-time":String(n.time),"data-marker-title":String(n.title)}).css({width:n.time+"%"});this.seekBarMarkersContainer.append(i)}},t.prototype.getMarkerAtPosition=function(e){var t=null;if(this.timelineMarkers.length>0)for(var n=0,o=this.timelineMarkers;n<o.length;n++){var i=o[n];if(e>=i.time-1&&e<=i.time+1){t=i;break}}return t},t.prototype.getHorizontalOffset=function(e){var t=this.seekBar.offset().left,n=this.seekBar.width(),o=e-t,i=1/n*o;return this.sanitizeOffset(i)},t.prototype.getVerticalOffset=function(e){var t=this.seekBar.offset().top,n=this.seekBar.height(),o=e-t,i=1/n*o;return 1-this.sanitizeOffset(i)},t.prototype.getOffset=function(e){return this.touchSupported&&e instanceof TouchEvent?this.config.vertical?this.getVerticalOffset("touchend"===e.type?e.changedTouches[0].pageY:e.touches[0].pageY):this.getHorizontalOffset("touchend"===e.type?e.changedTouches[0].pageX:e.touches[0].pageX):e instanceof MouseEvent?this.config.vertical?this.getVerticalOffset(e.pageY):this.getHorizontalOffset(e.pageX):(console&&console.warn("invalid event"),0)},t.prototype.sanitizeOffset=function(e){return e<0?e=0:e>1&&(e=1),e},t.prototype.setPlaybackPosition=function(e){this.playbackPositionPercentage=e,this.setPosition(this.seekBarPlaybackPosition,e);var t=(this.config.vertical?this.seekBar.height():this.seekBar.width())/100*e;this.config.vertical&&(t=this.seekBar.height()-t);var n=this.config.vertical?{transform:"translateY("+t+"px)","-ms-transform":"translateY("+t+"px)"}:{transform:"translateX("+t+"px)","-ms-transform":"translateX("+t+"px)"};this.seekBarPlaybackPositionMarker.css(n)},t.prototype.refreshPlaybackPosition=function(){this.setPlaybackPosition(this.playbackPositionPercentage)},t.prototype.setBufferPosition=function(e){this.setPosition(this.seekBarBufferPosition,e)},t.prototype.setSeekPosition=function(e){this.setPosition(this.seekBarSeekPosition,e)},t.prototype.setPosition=function(e,t){var n=t/100,o=this.config.vertical?{transform:"scaleY("+n+")","-ms-transform":"scaleY("+n+")"}:{transform:"scaleX("+n+")","-ms-transform":"scaleX("+n+")"};e.css(o)},t.prototype.setSeeking=function(e){e?this.getDomElement().addClass(this.prefixCss(t.CLASS_SEEKING)):this.getDomElement().removeClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.isSeeking=function(){return this.getDomElement().hasClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.hasLabel=function(){return null!=this.label},t.prototype.getLabel=function(){return this.label},t.prototype.onSeekEvent=function(){this.seekBarEvents.onSeek.dispatch(this)},t.prototype.onSeekPreviewEvent=function(e,t){var n=this.getMarkerAtPosition(e);this.label&&this.label.getDomElement().css({left:(n?n.time:e)+"%"}),this.seekBarEvents.onSeekPreview.dispatch(this,{scrubbing:t,position:e,marker:n})},t.prototype.onSeekedEvent=function(e){this.seekBarEvents.onSeeked.dispatch(this,e)},Object.defineProperty(t.prototype,"onSeek",{get:function(){return this.seekBarEvents.onSeek.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeekPreview",{get:function(){return this.seekBarEvents.onSeekPreview.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeeked",{get:function(){return this.seekBarEvents.onSeeked.getEvent()},enumerable:!0,configurable:!0}),t.prototype.onShowEvent=function(){e.prototype.onShowEvent.call(this),this.refreshPlaybackPosition()},t}(i.Component);l.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED=-1,l.CLASS_SEEKING="seeking",n.SeekBar=l},{"../dom":48,"../eventdispatcher":49,"../timeout":52,"../utils":54,"./component":14}],31:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./component"),a=e("../utils"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.timeLabel=new r.Label({cssClasses:["seekbar-label-time"]}),n.titleLabel=new r.Label({cssClasses:["seekbar-label-title"]}),n.commentLabel=new r.Label({cssClasses:["seekbar-label-comment"]}),n.numberLabel=new r.Label({cssClasses:["seekbar-label-number"]}),n.avatarLabel=new r.Label({cssClasses:["seekbar-label-avatar"]}),n.thumbnail=new s.Component({cssClasses:["seekbar-thumbnail"]}),n.metadata=new i.Container({components:[new i.Container({components:[n.avatarLabel,n.titleLabel,n.numberLabel],cssClass:"seekbar-label-metadata-title"}),new i.Container({components:[n.commentLabel,n.timeLabel],cssClass:"seekbar-label-metadata-content"})],cssClass:"seekbar-label-metadata"}),n.config=n.mergeConfig(t,{cssClass:"ui-seekbar-label",components:[new i.Container({components:[n.thumbnail,n.metadata],cssClass:"seekbar-label-inner"})],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),n.onSeekPreview.subscribe(function(e,n){if(t.isLive()){var i=t.getMaxTimeShift()-t.getMaxTimeShift()*(n.position/100);o.setTime(i)}else{var r=0;if(n.marker)o.setTitleText(n.marker.title),o.setSmashcutData(n.marker),o.setTime(n.marker.time),o.setThumbnail(null),o.setBackground(!0);else{r=n.position,o.setTitleText(null),o.setSmashcutData(null);var i=t.getDuration()*(r/100);o.setTime(i),o.setThumbnail(t.getThumb(i)),o.setBackground(!1)}}});var i=function(){o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS};t.addEventHandler(t.EVENT.ON_READY,i),i()},t.prototype.setText=function(e){this.timeLabel.setText(e)},t.prototype.setTime=function(e){this.setText(a.StringUtils.secondsToTime(e,this.timeFormat))},t.prototype.setTitleText=function(e){this.titleLabel.setText(e)},t.prototype.setSmashcutData=function(e){e?(this.commentLabel.setText(e.comment),this.numberLabel.setText(e.number),this.avatarLabel.setText(e.avatar)):(this.commentLabel.setText(null),this.numberLabel.setText(null),this.avatarLabel.setText(null))},t.prototype.setThumbnail=function(e){void 0===e&&(e=null);var t=this.thumbnail.getDomElement();null==e?t.css({"background-image":null,display:"null",width:"null",height:"null"}):t.css({display:"inherit","background-image":"url("+e.url+")",width:e.w+"px",height:e.h+"px","background-position":"-"+e.x+"px -"+e.y+"px"})},t.prototype.setBackground=function(e){var t=this.metadata.getDomElement();e?t.css({background:"#000"}):t.css({background:"initial"})},t}(i.Container);n.SeekBarLabel=c},{"../utils":54,"./component":14,"./container":15,"./label":21}],32:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./listselector"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-selectbox"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("select",{id:this.config.id,class:this.getCssClasses()});return this.selectElement=t,this.updateDomItems(),t.on("change",function(){var n=t.val();e.onItemSelectedEvent(n,!1)}),t},t.prototype.updateDomItems=function(e){void 0===e&&(e=null),this.selectElement.empty();for(var t=0,n=this.items;t<n.length;t++){var o=n[t],i=new r.DOM("option",{value:o.key}).html(o.label);o.key===e+""&&i.attr("selected","selected"),this.selectElement.append(i)}},t.prototype.onItemAddedEvent=function(t){e.prototype.onItemAddedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemRemovedEvent=function(t){e.prototype.onItemRemovedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemSelectedEvent=function(t,n){void 0===n&&(n=!0),e.prototype.onItemSelectedEvent.call(this,t),n&&this.updateDomItems(t)},t}(i.ListSelector);n.SelectBox=s},{"../dom":48,"./listselector":22}],33:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./videoqualityselectbox"),a=e("./audioqualityselectbox"),c=e("../timeout"),l=e("../eventdispatcher"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.settingsPanelEvents={onSettingsStateChanged:new l.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-settings-panel",hideDelay:3e3},n.config),n}return o(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);var r=this.getConfig();r.hideDelay>-1&&(this.hideTimeout=new c.Timeout(r.hideDelay,function(){i.hide()}),this.onShow.subscribe(function(){i.hideTimeout.start()}),this.getDomElement().on("mousemove",function(){i.hideTimeout.reset()}),this.onHide.subscribe(function(){i.hideTimeout.clear()}));for(var s=function(){i.onSettingsStateChangedEvent();for(var e=null,n=0,o=i.getItems();n<o.length;n++){var r=o[n];r instanceof p&&(r.getDomElement().removeClass(i.prefixCss(t.CLASS_LAST)),r.isShown()&&(e=r))}e&&e.getDomElement().addClass(i.prefixCss(t.CLASS_LAST))},a=0,l=this.getItems();a<l.length;a++){var u=l[a];u instanceof p&&u.onActiveChanged.subscribe(s)}},t.prototype.release=function(){e.prototype.release.call(this),this.hideTimeout&&this.hideTimeout.clear()},t.prototype.hasActiveSettings=function(){for(var e=0,t=this.getItems();e<t.length;e++){if(t[e].isActive())return!0}return!1},t.prototype.getItems=function(){return this.config.components},t.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelEvents.onSettingsStateChanged.dispatch(this)},Object.defineProperty(t.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelEvents.onSettingsStateChanged.getEvent()},enumerable:!0,configurable:!0}),t}(i.Container);u.CLASS_LAST="last",n.SettingsPanel=u;var p=function(e){function t(t,n,o){void 0===o&&(o={});var i=e.call(this,o)||this;return i.settingsPanelItemEvents={onActiveChanged:new l.EventDispatcher},i.label=new r.Label({text:t}),i.setting=n,i.config=i.mergeConfig(o,{cssClass:"ui-settings-panel-item",components:[i.label,i.setting]},i.config),i}return o(t,e),t.prototype.configure=function(e,t){var n=this,o=function(){var e=2;(n.setting instanceof s.VideoQualitySelectBox||n.setting instanceof a.AudioQualitySelectBox)&&(e=3),n.setting.itemCount()<e?n.hide():n.show(),n.onActiveChangedEvent()};this.setting.onItemAdded.subscribe(o),this.setting.onItemRemoved.subscribe(o),o()},t.prototype.isActive=function(){return this.isShown()},t.prototype.onActiveChangedEvent=function(){this.settingsPanelItemEvents.onActiveChanged.dispatch(this)},Object.defineProperty(t.prototype,"onActiveChanged",{get:function(){return this.settingsPanelItemEvents.onActiveChanged.getEvent()},enumerable:!0,configurable:!0}),t}(i.Container);n.SettingsPanelItem=p},{"../eventdispatcher":49,"../timeout":52,"./audioqualityselectbox":5,"./container":15,"./label":21,"./videoqualityselectbox":42}],34:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){var n=e.call(this,t)||this;if(!t.settingsPanel)throw new Error("Required SettingsPanel is missing");return n.config=n.mergeConfig(t,{cssClass:"ui-settingstogglebutton",text:"Settings",settingsPanel:null,autoHideWhenNoActiveSettings:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=i.settingsPanel;if(this.onClick.subscribe(function(){r.toggleHidden()}),r.onShow.subscribe(function(){o.on()}),r.onHide.subscribe(function(){o.off()}),i.autoHideWhenNoActiveSettings){var s=function(){r.hasActiveSettings()?o.isHidden()&&o.show():o.isShown()&&o.hide()};r.onSettingsStateChanged.subscribe(s),s()}},t}(i.ToggleButton);n.SettingsToggleButton=r},{"./togglebutton":39}],35:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-spacer"},n.config),n}return o(t,e),t.prototype.onShowEvent=function(){},t.prototype.onHideEvent=function(){},t.prototype.onHoverChangedEvent=function(e){},t}(i.Component);n.Spacer=r},{"./component":14}],36:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./controlbar"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-overlay"},n.config),n}return o(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);var r=new l;n.addEventHandler(n.EVENT.ON_CUE_ENTER,function(e){var t=r.cueEnter(e);i.addComponent(t),i.updateComponents(),i.show()}),
n.addEventHandler(n.EVENT.ON_CUE_EXIT,function(e){var t=r.cueExit(e);i.removeComponent(t),i.updateComponents(),r.hasCues||i.hide()});var a=function(){i.hide(),r.clear(),i.removeComponents(),i.updateComponents()};n.addEventHandler(n.EVENT.ON_AUDIO_CHANGED,a),n.addEventHandler(n.EVENT.ON_SUBTITLE_CHANGED,a),n.addEventHandler(n.EVENT.ON_SEEK,a),n.addEventHandler(n.EVENT.ON_TIME_SHIFT,a),n.addEventHandler(n.EVENT.ON_PLAYBACK_FINISHED,a),o.onComponentShow.subscribe(function(e){e instanceof s.ControlBar&&i.getDomElement().addClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),o.onComponentHide.subscribe(function(e){e instanceof s.ControlBar&&i.getDomElement().removeClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),a()},t}(i.Container);a.CLASS_CONTROLBAR_VISIBLE="controlbar-visible",n.SubtitleOverlay=a;var c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-label"},n.config),n}return o(t,e),t}(r.Label),l=function(){function e(){this.activeSubtitleCueMap={}}return e.calculateId=function(e){return e.start+e.text},e.prototype.cueEnter=function(t){var n=e.calculateId(t),o=new c({text:t.html||t.text});return this.activeSubtitleCueMap[n]={event:t,label:o},o},e.prototype.cueExit=function(t){var n=e.calculateId(t),o=this.activeSubtitleCueMap[n];return delete this.activeSubtitleCueMap[n],o.label},Object.defineProperty(e.prototype,"cueCount",{get:function(){return Object.keys(this.activeSubtitleCueMap).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCues",{get:function(){return this.cueCount>0},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.activeSubtitleCueMap={}},e}()},{"./container":15,"./controlbar":16,"./label":21}],37:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){o.clearItems();for(var e=0,n=t.getAvailableSubtitles();e<n.length;e++){var i=n[e];o.addItem(i.id,i.label)}};this.onItemSelected.subscribe(function(e,n){t.setSubtitle("null"===n?null:n)}),t.addEventHandler(t.EVENT.ON_SUBTITLE_ADDED,function(e){o.addItem(e.subtitle.id,e.subtitle.label)}),t.addEventHandler(t.EVENT.ON_SUBTITLE_CHANGED,function(e){o.selectItem(e.targetSubtitle.id)}),t.addEventHandler(t.EVENT.ON_SUBTITLE_REMOVED,function(e){o.removeItem(e.subtitleId)}),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,i),t.addEventHandler(t.EVENT.ON_READY,i),i()},t}(i.SelectBox);n.SubtitleSelectBox=r},{"./selectbox":32}],38:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./metadatalabel"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-titlebar",hidden:!0,components:[new r.MetadataLabel({content:r.MetadataLabelContent.Title}),new r.MetadataLabel({content:r.MetadataLabelContent.Description})],keepHiddenWithoutMetadata:!1},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);for(var i=this.getConfig(),s=!this.isHidden(),a=!0,c=function(){a=!1;for(var e=0,t=o.getComponents();e<t.length;e++){var n=t[e];if(n instanceof r.MetadataLabel&&!n.isEmpty()){a=!0;break}}o.isShown()?i.keepHiddenWithoutMetadata&&!a&&o.hide():s&&o.show()},l=0,u=this.getComponents();l<u.length;l++){var p=u[l];p instanceof r.MetadataLabel&&p.onTextChanged.subscribe(c)}n.onControlsShow.subscribe(function(){s=!0,i.keepHiddenWithoutMetadata&&!a||o.show()}),n.onControlsHide.subscribe(function(){s=!1,o.hide()}),c()},t}(i.Container);n.TitleBar=s},{"./container":15,"./metadatalabel":23}],39:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../eventdispatcher"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleButtonEvents={onToggle:new r.EventDispatcher,onToggleOn:new r.EventDispatcher,onToggleOff:new r.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-togglebutton"},n.config),n}return o(t,e),t.prototype.on=function(){this.isOff()&&(this.onState=!0,this.getDomElement().removeClass(this.prefixCss(t.CLASS_OFF)),this.getDomElement().addClass(this.prefixCss(t.CLASS_ON)),this.onToggleEvent(),this.onToggleOnEvent())},t.prototype.off=function(){this.isOn()&&(this.onState=!1,this.getDomElement().removeClass(this.prefixCss(t.CLASS_ON)),this.getDomElement().addClass(this.prefixCss(t.CLASS_OFF)),this.onToggleEvent(),this.onToggleOffEvent())},t.prototype.toggle=function(){this.isOn()?this.off():this.on()},t.prototype.isOn=function(){return this.onState},t.prototype.isOff=function(){return!this.isOn()},t.prototype.onClickEvent=function(){e.prototype.onClickEvent.call(this),this.onToggleEvent()},t.prototype.onToggleEvent=function(){this.toggleButtonEvents.onToggle.dispatch(this)},t.prototype.onToggleOnEvent=function(){this.toggleButtonEvents.onToggleOn.dispatch(this)},t.prototype.onToggleOffEvent=function(){this.toggleButtonEvents.onToggleOff.dispatch(this)},Object.defineProperty(t.prototype,"onToggle",{get:function(){return this.toggleButtonEvents.onToggle.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOn",{get:function(){return this.toggleButtonEvents.onToggleOn.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOff",{get:function(){return this.toggleButtonEvents.onToggleOff.getEvent()},enumerable:!0,configurable:!0}),t}(i.Button);s.CLASS_ON="on",s.CLASS_OFF="off",n.ToggleButton=s},{"../eventdispatcher":49,"./button":8}],40:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.canvasWidth=160,n.canvasHeight=90,n.interferenceHeight=50,n.lastFrameUpdate=0,n.frameInterval=60,n.useAnimationFrame=!!window.requestAnimationFrame,n.config=n.mergeConfig(t,{cssClass:"ui-tvnoisecanvas"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){return this.canvas=new r.DOM("canvas",{class:this.getCssClasses()})},t.prototype.start=function(){this.canvasElement=this.canvas.getElements()[0],this.canvasContext=this.canvasElement.getContext("2d"),this.noiseAnimationWindowPos=-this.canvasHeight,this.lastFrameUpdate=0,this.canvasElement.width=this.canvasWidth,this.canvasElement.height=this.canvasHeight,this.renderFrame()},t.prototype.stop=function(){this.useAnimationFrame?cancelAnimationFrame(this.frameUpdateHandlerId):clearTimeout(this.frameUpdateHandlerId)},t.prototype.renderFrame=function(){if(this.lastFrameUpdate+this.frameInterval>(new Date).getTime())return void this.scheduleNextRender();for(var e,t=this.canvasWidth,n=this.canvasHeight,o=this.canvasContext.createImageData(t,n),i=0;i<n;i++)for(var r=0;r<t;r++)e=t*i*4+4*r,o.data[e]=255*Math.random(),(i<this.noiseAnimationWindowPos||i>this.noiseAnimationWindowPos+this.interferenceHeight)&&(o.data[e]*=.85),o.data[e+1]=o.data[e],o.data[e+2]=o.data[e],o.data[e+3]=50;this.canvasContext.putImageData(o,0,0),this.lastFrameUpdate=(new Date).getTime(),this.noiseAnimationWindowPos+=7,this.noiseAnimationWindowPos>n&&(this.noiseAnimationWindowPos=-n),this.scheduleNextRender()},t.prototype.scheduleNextRender=function(){this.useAnimationFrame?this.frameUpdateHandlerId=window.requestAnimationFrame(this.renderFrame.bind(this)):this.frameUpdateHandlerId=setTimeout(this.renderFrame.bind(this),this.frameInterval)},t}(i.Component);n.TvNoiseCanvas=s},{"../dom":48,"./component":14}],41:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("../dom"),s=e("../timeout"),a=e("../utils"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-uicontainer",hideDelay:5e3},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),this.configureUIShowHide(t,n),this.configurePlayerStates(t,n)},t.prototype.configureUIShowHide=function(e,t){var n=this,o=this.getDomElement(),i=this.getConfig(),r=!1,a=!1,c=!0,l=function(){r||(t.onControlsShow.dispatch(n),r=!0),a||e.isCasting()||n.uiHideTimeout.start()},u=function(){if(r&&!e.isCasting()){var o={};t.onPreviewControlsHide.dispatch(n,o),o.cancel?l():(t.onControlsHide.dispatch(n),r=!1)}};this.uiHideTimeout=new s.Timeout(i.hideDelay,u),o.on("touchend",function(e){r||(c?c=!1:e.preventDefault(),l())}),o.on("mouseenter",function(){l()}),o.on("mousemove",function(){l()}),o.on("mouseleave",function(){a||n.uiHideTimeout.start()}),t.onSeek.subscribe(function(){n.uiHideTimeout.clear(),a=!0}),t.onSeeked.subscribe(function(){a=!1,n.uiHideTimeout.start()}),e.addEventHandler(e.EVENT.ON_CAST_STARTED,function(){l()})},t.prototype.configurePlayerStates=function(e,n){var o=this,i=this.getDomElement(),s=[];for(var c in a.PlayerUtils.PlayerState)if(isNaN(Number(c))){var l=a.PlayerUtils.PlayerState[a.PlayerUtils.PlayerState[c]];s[a.PlayerUtils.PlayerState[c]]=this.prefixCss(t.STATE_PREFIX+l.toLowerCase())}var u=function(){i.removeClass(s[a.PlayerUtils.PlayerState.IDLE]),i.removeClass(s[a.PlayerUtils.PlayerState.PREPARED]),i.removeClass(s[a.PlayerUtils.PlayerState.PLAYING]),i.removeClass(s[a.PlayerUtils.PlayerState.PAUSED]),i.removeClass(s[a.PlayerUtils.PlayerState.FINISHED])};e.addEventHandler(e.EVENT.ON_READY,function(){u(),i.addClass(s[a.PlayerUtils.PlayerState.PREPARED])}),e.addEventHandler(e.EVENT.ON_PLAY,function(){u(),i.addClass(s[a.PlayerUtils.PlayerState.PLAYING])}),e.addEventHandler(e.EVENT.ON_PAUSED,function(){u(),i.addClass(s[a.PlayerUtils.PlayerState.PAUSED])}),e.addEventHandler(e.EVENT.ON_PLAYBACK_FINISHED,function(){u(),i.addClass(s[a.PlayerUtils.PlayerState.FINISHED])}),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,function(){u(),i.addClass(s[a.PlayerUtils.PlayerState.IDLE])}),i.addClass(s[a.PlayerUtils.getState(e)]),e.addEventHandler(e.EVENT.ON_FULLSCREEN_ENTER,function(){i.addClass(o.prefixCss(t.FULLSCREEN))}),e.addEventHandler(e.EVENT.ON_FULLSCREEN_EXIT,function(){i.removeClass(o.prefixCss(t.FULLSCREEN))}),e.isFullscreen()&&i.addClass(this.prefixCss(t.FULLSCREEN)),e.addEventHandler(e.EVENT.ON_STALL_STARTED,function(){i.addClass(o.prefixCss(t.BUFFERING))}),e.addEventHandler(e.EVENT.ON_STALL_ENDED,function(){i.removeClass(o.prefixCss(t.BUFFERING))}),e.isStalled()&&i.addClass(this.prefixCss(t.BUFFERING)),e.addEventHandler(e.EVENT.ON_CAST_STARTED,function(){i.addClass(o.prefixCss(t.REMOTE_CONTROL))}),e.addEventHandler(e.EVENT.ON_CAST_STOPPED,function(){i.removeClass(o.prefixCss(t.REMOTE_CONTROL))}),e.isCasting()&&i.addClass(this.prefixCss(t.REMOTE_CONTROL)),n.onControlsShow.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_HIDDEN)),i.addClass(o.prefixCss(t.CONTROLS_SHOWN))}),n.onControlsHide.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_SHOWN)),i.addClass(o.prefixCss(t.CONTROLS_HIDDEN))});var p=function(e,t){i.removeClass(o.prefixCss("layout-max-width-400")),i.removeClass(o.prefixCss("layout-max-width-600")),i.removeClass(o.prefixCss("layout-max-width-800")),i.removeClass(o.prefixCss("layout-max-width-1200")),e<=400?i.addClass(o.prefixCss("layout-max-width-400")):e<=600?i.addClass(o.prefixCss("layout-max-width-600")):e<=800?i.addClass(o.prefixCss("layout-max-width-800")):e<=1200&&i.addClass(o.prefixCss("layout-max-width-1200"))};e.addEventHandler(e.EVENT.ON_PLAYER_RESIZE,function(e){var t=Math.round(Number(e.width.substring(0,e.width.length-2)));Math.round(Number(e.height.substring(0,e.height.length-2)));p(t)}),p(new r.DOM(e.getFigure()).width(),new r.DOM(e.getFigure()).height())},t.prototype.release=function(){e.prototype.release.call(this),this.uiHideTimeout.clear()},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return document&&void 0!==document.createElement("p").style.flex?t.addClass(this.prefixCss("flexbox")):t.addClass(this.prefixCss("no-flexbox")),t},t}(i.Container);c.STATE_PREFIX="player-state-",c.FULLSCREEN="fullscreen",c.BUFFERING="buffering",c.REMOTE_CONTROL="remote-control",c.CONTROLS_SHOWN="controls-shown",c.CONTROLS_HIDDEN="controls-hidden",n.UIContainer=c},{"../dom":48,"../timeout":52,"../utils":54,"./container":15}],42:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getAvailableVideoQualities();o.clearItems(),o.addItem("auto","auto");for(var n=0,i=e;n<i.length;n++){var r=i[n];o.addItem(r.id,r.label)}};this.onItemSelected.subscribe(function(e,n){t.setVideoQuality(n)}),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,i),t.addEventHandler(t.EVENT.ON_READY,i),t.addEventHandler(t.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE,function(){var e=t.getDownloadedVideoData();o.selectItem(e.isAuto?"auto":e.id)}),i()},t}(i.SelectBox);n.VideoQualitySelectBox=r},{"./selectbox":32}],43:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./volumeslider"),s=e("./volumetogglebutton"),a=e("../timeout"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.volumeToggleButton=new s.VolumeToggleButton,n.volumeSlider=new r.VolumeSlider({vertical:null==t.vertical||t.vertical,hidden:!0}),n.config=n.mergeConfig(t,{cssClass:"ui-volumecontrolbutton",components:[n.volumeToggleButton,n.volumeSlider],hideDelay:500},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getVolumeToggleButton(),r=this.getVolumeSlider();this.volumeSliderHideTimeout=new a.Timeout(this.getConfig().hideDelay,function(){r.hide()});var s=!1;i.getDomElement().on("mouseenter",function(){r.isHidden()&&r.show(),o.volumeSliderHideTimeout.clear()}),i.getDomElement().on("mouseleave",function(){o.volumeSliderHideTimeout.reset()}),r.getDomElement().on("mouseenter",function(){o.volumeSliderHideTimeout.clear(),s=!0}),r.getDomElement().on("mouseleave",function(){r.isSeeking()?o.volumeSliderHideTimeout.clear():o.volumeSliderHideTimeout.reset(),s=!1}),r.onSeeked.subscribe(function(){s||o.volumeSliderHideTimeout.reset()})},t.prototype.release=function(){e.prototype.release.call(this),this.volumeSliderHideTimeout.clear()},t.prototype.getVolumeToggleButton=function(){return this.volumeToggleButton},t.prototype.getVolumeSlider=function(){return this.volumeSlider},t}(i.Container);n.VolumeControlButton=c},{"../timeout":52,"./container":15,"./volumeslider":44,"./volumetogglebutton":45}],44:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./seekbar"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-volumeslider",hideIfVolumeControlProhibited:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;if(e.prototype.configure.call(this,t,n,!1),this.getConfig().hideIfVolumeControlProhibited&&!this.detectVolumeControlAvailability(t))return void this.hide();var i=function(){t.isMuted()?(o.setPlaybackPosition(0),o.setBufferPosition(0)):(o.setPlaybackPosition(t.getVolume()),o.setBufferPosition(t.getVolume()))};t.addEventHandler(t.EVENT.ON_READY,i),t.addEventHandler(t.EVENT.ON_VOLUME_CHANGED,i),t.addEventHandler(t.EVENT.ON_MUTED,i),t.addEventHandler(t.EVENT.ON_UNMUTED,i),this.onSeekPreview.subscribe(function(e,n){n.scrubbing&&t.setVolume(n.position)}),this.onSeeked.subscribe(function(e,n){t.setVolume(n)}),t.addEventHandler(t.EVENT.ON_PLAYER_RESIZE,function(){o.refreshPlaybackPosition()}),t.addEventHandler(t.EVENT.ON_READY,function(){o.refreshPlaybackPosition()}),n.onConfigured.subscribe(function(){o.refreshPlaybackPosition()}),i()},t.prototype.detectVolumeControlAvailability=function(e){var t=e.getVolume(),n=e.isMuted(),o=e.isPlaying();return 100!==t||(e.setVolume(0),100!==e.getVolume()&&(e.setVolume(t),n&&e.mute(),o&&e.play(),!0))},t}(i.SeekBar);n.VolumeSlider=r},{"./seekbar":30}],45:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-volumetogglebutton",text:"Volume/Mute"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){t.isMuted()?o.on():o.off()},r=function(){t.getVolume()<50?o.getDomElement().addClass(o.prefixCss("low")):o.getDomElement().removeClass(o.prefixCss("low"))};t.addEventHandler(t.EVENT.ON_MUTED,i),t.addEventHandler(t.EVENT.ON_UNMUTED,i),t.addEventHandler(t.EVENT.ON_VOLUME_CHANGED,r),this.onClick.subscribe(function(){t.isMuted()?t.unmute():t.mute()}),i(),r()},t}(i.ToggleButton);n.VolumeToggleButton=r},{"./togglebutton":39}],46:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-vrtogglebutton",text:"VR"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getConfig();return e.source&&e.source.vr&&"none"!==e.source.vr.contentType},r=function(){return"none"!==t.getVRStatus().contentType},s=function(){i()&&r()?(o.show(),t.getVRStatus().isStereo?o.on():o.off()):o.hide()},a=function(){i()?o.show():o.hide()};t.addEventHandler(t.EVENT.ON_VR_MODE_CHANGED,s),t.addEventHandler(t.EVENT.ON_VR_STEREO_CHANGED,s),t.addEventHandler(t.EVENT.ON_VR_ERROR,s),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,a),t.addEventHandler(t.EVENT.ON_READY,a),this.onClick.subscribe(function(){r()?t.getVRStatus().isStereo?t.setVRStereo(!1):t.setVRStereo(!0):console&&console.log("No VR content")}),a()},t}(i.ToggleButton);n.VRToggleButton=r},{"./togglebutton":39}],47:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./clickoverlay"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-watermark",url:"http://bitmovin.com"},n.config),n}return o(t,e),t}(i.ClickOverlay);n.Watermark=r},{"./clickoverlay":12}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){if(this.document=document,e instanceof Array){if(e.length>0&&e[0]instanceof HTMLElement){var n=e;this.elements=n}}else if(e instanceof HTMLElement){var o=e;this.elements=[o]}else if(e instanceof Document)this.elements=null;else if(t){var i=e,o=document.createElement(i);for(var r in t){var s=t[r];o.setAttribute(r,s)}this.elements=[o]}else{var a=e;this.elements=this.findChildElements(a)}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.elements?this.elements.length:0},enumerable:!0,configurable:!0}),e.prototype.getElements=function(){return this.elements},e.prototype.forEach=function(e){this.elements.forEach(function(t){e(t)})},e.prototype.findChildElementsOfElement=function(e,t){var n=e.querySelectorAll(t);return[].slice.call(n)},e.prototype.findChildElements=function(e){var t=this,n=[];return this.elements?(this.forEach(function(o){n=n.concat(t.findChildElementsOfElement(o,e))}),n):this.findChildElementsOfElement(document,e)},e.prototype.find=function(t){return new e(this.findChildElements(t))},e.prototype.html=function(e){return arguments.length>0?this.setHtml(e):this.getHtml()},e.prototype.getHtml=function(){return this.elements[0].innerHTML},e.prototype.setHtml=function(e){return void 0!==e&&null!=e||(e=""),this.forEach(function(t){t.innerHTML=e}),this},e.prototype.empty=function(){return this.forEach(function(e){e.innerHTML=""}),this},e.prototype.val=function(){var e=this.elements[0];if(e instanceof HTMLSelectElement||e instanceof HTMLInputElement)return e.value;throw new Error("val() not supported for "+typeof e)},e.prototype.attr=function(e,t){return arguments.length>1?this.setAttr(e,t):this.getAttr(e)},e.prototype.getAttr=function(e){return this.elements[0].getAttribute(e)},e.prototype.setAttr=function(e,t){return this.forEach(function(n){n.setAttribute(e,t)}),this},e.prototype.data=function(e,t){return arguments.length>1?this.setData(e,t):this.getData(e)},e.prototype.getData=function(e){return this.elements[0].getAttribute("data-"+e)},e.prototype.setData=function(e,t){return this.forEach(function(n){n.setAttribute("data-"+e,t)}),this},e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.forEach(function(t){e.forEach(function(e){e.elements.forEach(function(n,o){t.appendChild(e.elements[o])})})}),this},e.prototype.remove=function(){this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})},e.prototype.offset=function(){var e=this.elements[0],t=e.getBoundingClientRect(),n=document.body.parentElement.getBoundingClientRect();return{top:t.top-n.top,left:t.left-n.left}},e.prototype.width=function(){return this.elements[0].offsetWidth},e.prototype.height=function(){return this.elements[0].offsetHeight},e.prototype.on=function(e,t){var n=this;return e.split(" ").forEach(function(e){null==n.elements?n.document.addEventListener(e,t):n.forEach(function(n){n.addEventListener(e,t)})}),this},e.prototype.off=function(e,t){var n=this;return e.split(" ").forEach(function(e){null==n.elements?n.document.removeEventListener(e,t):n.forEach(function(n){n.removeEventListener(e,t)})}),this},e.prototype.addClass=function(e){return this.forEach(function(t){t.classList?t.classList.add(e):t.className+=" "+e}),this},e.prototype.removeClass=function(e){return this.forEach(function(t){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},e.prototype.hasClass=function(e){var t=!1;return this.forEach(function(n){n.classList?n.classList.contains(e)&&(t=!0):new RegExp("(^| )"+e+"( |$)","gi").test(n.className)&&(t=!0)}),t},e.prototype.css=function(e,t){if("string"==typeof e){var n=e;return 2===arguments.length?this.setCss(n,t):this.getCss(n)}var o=e;return this.setCssCollection(o)},e.prototype.getCss=function(e){return getComputedStyle(this.elements[0])[e]},e.prototype.setCss=function(e,t){return this.forEach(function(n){n.style[e]=t}),this},e.prototype.setCssCollection=function(e){return this.forEach(function(t){Object.assign(t.style,e)}),this},e}();n.DOM=o},{}],49:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./utils"),r=function(){function e(){this.listeners=[]}return e.prototype.subscribe=function(e){this.listeners.push(new s(e))},e.prototype.subscribeOnce=function(e){this.listeners.push(new s(e,!0))},e.prototype.subscribeRateLimited=function(e,t){this.listeners.push(new a(e,t))},e.prototype.unsubscribe=function(e){for(var t=0;t<this.listeners.length;t++){var n=this.listeners[t];if(n.listener===e)return i.ArrayUtils.remove(this.listeners,n),!0}return!1},e.prototype.unsubscribeAll=function(){this.listeners=[]},e.prototype.dispatch=function(e,t){void 0===t&&(t=null);for(var n=[],o=0,r=this.listeners;o<r.length;o++){var s=r[o];s.fire(e,t),s.isOnce()&&n.push(s)}for(var a=0,c=n;a<c.length;a++){var l=c[a];i.ArrayUtils.remove(this.listeners,l)}},e.prototype.getEvent=function(){return this},e}();n.EventDispatcher=r;var s=function(){function e(e,t){void 0===t&&(t=!1),this.eventListener=e,this.once=t}return Object.defineProperty(e.prototype,"listener",{get:function(){return this.eventListener},enumerable:!0,configurable:!0}),e.prototype.fire=function(e,t){this.eventListener(e,t)},e.prototype.isOnce=function(){return this.once},e}(),a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.rateMs=n,o.lastFireTime=0,o.rateLimitingEventListener=function(e,t){Date.now()-o.lastFireTime>o.rateMs&&(o.fireSuper(e,t),o.lastFireTime=Date.now())},o}return o(t,e),t.prototype.fireSuper=function(t,n){e.prototype.fire.call(this,t,n)},t.prototype.fire=function(e,t){this.rateLimitingEventListener(e,t)},t}(s)},{"./utils":54}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(){return n++}var n=1;e.next=t}(n.Guid||(n.Guid={}))},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./uimanager"),i=e("./components/button"),r=e("./components/controlbar"),s=e("./components/fullscreentogglebutton"),a=e("./components/hugeplaybacktogglebutton"),c=e("./components/playbacktimelabel"),l=e("./components/playbacktogglebutton"),u=e("./components/seekbar"),p=e("./components/selectbox"),f=e("./components/settingspanel"),d=e("./components/settingstogglebutton"),h=e("./components/togglebutton"),g=e("./components/videoqualityselectbox"),v=e("./components/volumetogglebutton"),m=e("./components/vrtogglebutton"),y=e("./components/watermark"),E=e("./components/uicontainer"),b=e("./components/container"),_=e("./components/label"),C=e("./components/audioqualityselectbox"),O=e("./components/audiotrackselectbox"),T=e("./components/caststatusoverlay"),S=e("./components/casttogglebutton"),P=e("./components/component"),w=e("./components/errormessageoverlay"),k=e("./components/recommendationoverlay"),A=e("./components/seekbarlabel"),N=e("./components/subtitleoverlay"),D=e("./components/subtitleselectbox"),I=e("./components/titlebar"),H=e("./components/volumecontrolbutton"),x=e("./components/clickoverlay"),L=e("./components/adskipbutton"),M=e("./components/admessagelabel"),B=e("./components/adclickoverlay"),U=e("./components/playbackspeedselectbox"),V=e("./components/hugereplaybutton"),R=e("./components/bufferingoverlay"),j=e("./components/castuicontainer"),F=e("./components/playbacktoggleoverlay"),Y=e("./components/closebutton"),W=e("./components/metadatalabel"),G=e("./components/airplaytogglebutton"),Q=e("./components/volumeslider"),K=e("./components/pictureinpicturetogglebutton"),q=e("./components/spacer"),X=e("./utils");"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),window.bitmovin.playerui={UIManager:o.UIManager,UIInstanceManager:o.UIInstanceManager,ArrayUtils:X.ArrayUtils,StringUtils:X.StringUtils,PlayerUtils:X.PlayerUtils,UIUtils:X.UIUtils,BrowserUtils:X.BrowserUtils,AdClickOverlay:B.AdClickOverlay,AdMessageLabel:M.AdMessageLabel,AdSkipButton:L.AdSkipButton,AirPlayToggleButton:G.AirPlayToggleButton,AudioQualitySelectBox:C.AudioQualitySelectBox,AudioTrackSelectBox:O.AudioTrackSelectBox,BufferingOverlay:R.BufferingOverlay,Button:i.Button,CastStatusOverlay:T.CastStatusOverlay,CastToggleButton:S.CastToggleButton,CastUIContainer:j.CastUIContainer,ClickOverlay:x.ClickOverlay,CloseButton:Y.CloseButton,Component:P.Component,Container:b.Container,ControlBar:r.ControlBar,ErrorMessageOverlay:w.ErrorMessageOverlay,FullscreenToggleButton:s.FullscreenToggleButton,HugePlaybackToggleButton:a.HugePlaybackToggleButton,HugeReplayButton:V.HugeReplayButton,Label:_.Label,MetadataLabel:W.MetadataLabel,MetadataLabelContent:W.MetadataLabelContent,PictureInPictureToggleButton:K.PictureInPictureToggleButton,PlaybackSpeedSelectBox:U.PlaybackSpeedSelectBox,PlaybackTimeLabel:c.PlaybackTimeLabel,PlaybackTimeLabelMode:c.PlaybackTimeLabelMode,PlaybackToggleButton:l.PlaybackToggleButton,PlaybackToggleOverlay:F.PlaybackToggleOverlay,RecommendationOverlay:k.RecommendationOverlay,SeekBar:u.SeekBar,SeekBarLabel:A.SeekBarLabel,SelectBox:p.SelectBox,SettingsPanel:f.SettingsPanel,SettingsPanelItem:f.SettingsPanelItem,SettingsToggleButton:d.SettingsToggleButton,Spacer:q.Spacer,SubtitleOverlay:N.SubtitleOverlay,SubtitleSelectBox:D.SubtitleSelectBox,TitleBar:I.TitleBar,ToggleButton:h.ToggleButton,
UIContainer:E.UIContainer,VideoQualitySelectBox:g.VideoQualitySelectBox,VolumeControlButton:H.VolumeControlButton,VolumeSlider:Q.VolumeSlider,VolumeToggleButton:v.VolumeToggleButton,VRToggleButton:m.VRToggleButton,Watermark:y.Watermark}},{"./components/adclickoverlay":1,"./components/admessagelabel":2,"./components/adskipbutton":3,"./components/airplaytogglebutton":4,"./components/audioqualityselectbox":5,"./components/audiotrackselectbox":6,"./components/bufferingoverlay":7,"./components/button":8,"./components/caststatusoverlay":9,"./components/casttogglebutton":10,"./components/castuicontainer":11,"./components/clickoverlay":12,"./components/closebutton":13,"./components/component":14,"./components/container":15,"./components/controlbar":16,"./components/errormessageoverlay":17,"./components/fullscreentogglebutton":18,"./components/hugeplaybacktogglebutton":19,"./components/hugereplaybutton":20,"./components/label":21,"./components/metadatalabel":23,"./components/pictureinpicturetogglebutton":24,"./components/playbackspeedselectbox":25,"./components/playbacktimelabel":26,"./components/playbacktogglebutton":27,"./components/playbacktoggleoverlay":28,"./components/recommendationoverlay":29,"./components/seekbar":30,"./components/seekbarlabel":31,"./components/selectbox":32,"./components/settingspanel":33,"./components/settingstogglebutton":34,"./components/spacer":35,"./components/subtitleoverlay":36,"./components/subtitleselectbox":37,"./components/titlebar":38,"./components/togglebutton":39,"./components/uicontainer":41,"./components/videoqualityselectbox":42,"./components/volumecontrolbutton":43,"./components/volumeslider":44,"./components/volumetogglebutton":45,"./components/vrtogglebutton":46,"./components/watermark":47,"./uimanager":53,"./utils":54}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=!1),this.delay=e,this.callback=t,this.repeat=n,this.timeoutHandle=0}return e.prototype.start=function(){return this.reset(),this},e.prototype.clear=function(){clearTimeout(this.timeoutHandle)},e.prototype.reset=function(){var e=this,t=0,n=0;this.clear();var o=function(){if(e.callback(),e.repeat){var i=Date.now(),r=i-t;n=e.delay-r+n,t=i,e.timeoutHandle=setTimeout(o,e.delay+n)}};t=Date.now(),this.delay>0&&(this.timeoutHandle=setTimeout(o,this.delay))},e}();n.Timeout=o},{}],53:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./components/uicontainer"),r=e("./dom"),s=e("./components/container"),a=e("./components/playbacktogglebutton"),c=e("./components/fullscreentogglebutton"),l=e("./components/vrtogglebutton"),u=e("./components/volumetogglebutton"),p=e("./components/seekbar"),f=e("./components/playbacktimelabel"),d=e("./components/controlbar"),h=e("./eventdispatcher"),g=e("./components/settingstogglebutton"),v=e("./components/settingspanel"),m=e("./components/videoqualityselectbox"),y=e("./components/watermark"),E=e("./components/audioqualityselectbox"),b=e("./components/audiotrackselectbox"),_=e("./components/seekbarlabel"),C=e("./components/volumeslider"),O=e("./components/subtitleselectbox"),T=e("./components/subtitleoverlay"),S=e("./components/volumecontrolbutton"),P=e("./components/casttogglebutton"),w=e("./components/caststatusoverlay"),k=e("./components/errormessageoverlay"),A=e("./components/titlebar"),N=e("./components/recommendationoverlay"),D=e("./components/admessagelabel"),I=e("./components/adskipbutton"),H=e("./components/adclickoverlay"),x=e("./utils"),L=e("./components/playbackspeedselectbox"),M=e("./components/bufferingoverlay"),B=e("./components/castuicontainer"),U=e("./components/playbacktoggleoverlay"),V=e("./components/closebutton"),R=e("./components/metadatalabel"),j=e("./components/label"),F=(e("./components/airplaytogglebutton"),e("./components/pictureinpicturetogglebutton"),e("./components/spacer")),Y=function(){function e(e,t,n){void 0===n&&(n={});var o=this;if(t instanceof i.UIContainer){var s=t,a=[];a.push({ui:s}),this.uiVariants=a}else this.uiVariants=t;this.player=e,this.config=n,this.managerPlayerWrapper=new Q(e),this.playerElement=new r.DOM(e.getFigure()),this.uiInstanceManagers=[];for(var c=[],l=0,u=this.uiVariants;l<u.length;l++){var p=u[l];null==p.condition&&c.push(p),this.uiInstanceManagers.push(new G(e,p.ui,this.config))}if(c.length>1)throw Error("Too many UIs without a condition: You cannot have more than one default UI");if(c.length>0&&c[0]!==this.uiVariants[this.uiVariants.length-1])throw Error("Invalid UI variant order: the default UI (without condition) must be at the end of the list");var f=null,d=x.BrowserUtils.isMobile,h=function(t){if(null!=t)switch(t.type){case e.EVENT.ON_AD_STARTED:f=t;break;case e.EVENT.ON_AD_FINISHED:case e.EVENT.ON_AD_SKIPPED:case e.EVENT.ON_AD_ERROR:f=null}for(var n=null!=f,i=n&&"vast"===f.clientType,r={isAd:n,isAdWithUI:i,isFullscreen:o.player.isFullscreen(),isMobile:d,width:o.playerElement.width(),documentWidth:document.body.clientWidth},s=null,a=!1,c=0,l=o.uiVariants;c<l.length;c++){var u=l[c];if(null==u.condition||!0===u.condition(r)){s=o.uiInstanceManagers[o.uiVariants.indexOf(u)];break}}s!==o.currentUi&&(a=!0),a&&(o.currentUi&&o.currentUi.getUI().hide(),o.currentUi=s,null!=o.currentUi&&(o.currentUi.isConfigured()||o.addUi(o.currentUi),r.isAd&&o.currentUi.getWrappedPlayer().fireEventInUI(o.player.EVENT.ON_AD_STARTED,f),o.currentUi.getUI().show()))};this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER,h),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT,h),h(null)}return e.prototype.getConfig=function(){return this.config},e.prototype.addUi=function(e){var t=e.getUI().getDomElement();e.configureControls();var n=new r.DOM(this.playerElement.getElements()[0].parentElement);n.css({"margin-bottom":"80px","background-color":"#000"}),n.append(t),window.requestAnimationFrame?requestAnimationFrame(function(){e.onConfigured.dispatch(e.getUI())}):setTimeout(function(){e.onConfigured.dispatch(e.getUI())},0)},e.prototype.releaseUi=function(e){e.releaseControls(),e.getUI().getDomElement().remove(),e.clearEventHandlers()},e.prototype.release=function(){for(var e=0,t=this.uiInstanceManagers;e<t.length;e++){var n=t[e];this.releaseUi(n)}this.managerPlayerWrapper.clearEventHandlers()},e}();n.UIManager=Y,function(e){!function(t){function n(t,n){return void 0===n&&(n={}),e.Factory.buildModernUI(t,n)}function o(t,n){return void 0===n&&(n={}),e.Factory.buildModernSmallScreenUI(t,n)}function r(t,n){return void 0===n&&(n={}),e.Factory.buildModernCastReceiverUI(t,n)}function h(){var e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new m.VideoQualitySelectBox),new v.SettingsPanelItem("Speed",new L.PlaybackSpeedSelectBox),new v.SettingsPanelItem("Audio Track",new b.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new E.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new O.SubtitleSelectBox)],hidden:!0}),t=new s.Container({cssClasses:["controlbar-top"],components:[new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})]}),n=new s.Container({cssClasses:["controlbar-middle"],components:[new p.SeekBar({label:new _.SeekBarLabel})]}),o=new s.Container({cssClasses:["controlbar-bottom"],components:[new F.Spacer,new C.VolumeSlider,new u.VolumeToggleButton,new g.SettingsToggleButton({settingsPanel:e}),new c.FullscreenToggleButton]}),r=new d.ControlBar({components:[new a.PlaybackToggleButton,new s.Container({cssClasses:["controlbar-inner"],components:[e,t,n,o]})]});return new i.UIContainer({hideDelay:0,cssClasses:["ui-skin-modern ui-skin-smashcut"],components:[new T.SubtitleOverlay,new M.BufferingOverlay,new U.PlaybackToggleOverlay,r,new A.TitleBar,new N.RecommendationOverlay,new k.ErrorMessageOverlay]})}function x(){return new i.UIContainer({components:[new M.BufferingOverlay,new H.AdClickOverlay,new U.PlaybackToggleOverlay,new s.Container({components:[new D.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new I.AdSkipButton],cssClass:"ui-ads-status"}),new d.ControlBar({components:[new s.Container({components:[new a.PlaybackToggleButton,new u.VolumeToggleButton,new C.VolumeSlider,new F.Spacer,new c.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]})],cssClasses:["ui-skin-modern","ui-skin-ads"]})}function Y(){var e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new m.VideoQualitySelectBox),new v.SettingsPanelItem("Speed",new L.PlaybackSpeedSelectBox),new v.SettingsPanelItem("Audio Track",new b.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new E.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new O.SubtitleSelectBox)],hidden:!0,hideDelay:-1});e.addComponent(new V.CloseButton({target:e}));var t=new d.ControlBar({components:[new s.Container({components:[new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new p.SeekBar({label:new _.SeekBarLabel}),new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new i.UIContainer({components:[new T.SubtitleOverlay,new M.BufferingOverlay,new w.CastStatusOverlay,new U.PlaybackToggleOverlay,t,new A.TitleBar({components:[new R.MetadataLabel({content:R.MetadataLabelContent.Title}),new P.CastToggleButton,new g.SettingsToggleButton({settingsPanel:e}),new c.FullscreenToggleButton]}),e,new N.RecommendationOverlay,new y.Watermark,new k.ErrorMessageOverlay],cssClasses:["ui-skin-modern","ui-skin-smallscreen"]})}function W(){return new i.UIContainer({components:[new M.BufferingOverlay,new H.AdClickOverlay,new U.PlaybackToggleOverlay,new A.TitleBar({components:[new j.Label({cssClass:"label-metadata-title"}),new c.FullscreenToggleButton]}),new s.Container({components:[new D.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new I.AdSkipButton],cssClass:"ui-ads-status"})],cssClasses:["ui-skin-modern","ui-skin-ads","ui-skin-smallscreen"]})}function G(){var e=new d.ControlBar({components:[new s.Container({components:[new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new p.SeekBar({smoothPlaybackPositionUpdateIntervalMs:-1}),new f.PlaybackTimeLabel({timeLabelMode:f.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new B.CastUIContainer({components:[new T.SubtitleOverlay,new M.BufferingOverlay,new U.PlaybackToggleOverlay,new y.Watermark,e,new A.TitleBar({keepHiddenWithoutMetadata:!0}),new k.ErrorMessageOverlay],cssClasses:["ui-skin-modern","ui-skin-cast-receiver"]})}function Q(t,n){void 0===n&&(n={});return new e(t,[{ui:W(),condition:function(e){return e.isMobile&&e.documentWidth<600&&e.isAdWithUI}},{ui:x(),condition:function(e){return e.isAdWithUI}},{ui:Y(),condition:function(e){return e.isMobile&&e.documentWidth<600}},{ui:h()}],n)}function K(t,n){return void 0===n&&(n={}),new e(t,[{ui:W(),condition:function(e){return e.isAdWithUI}},{ui:Y()}],n)}function q(t,n){return void 0===n&&(n={}),new e(t,G(),n)}function X(){var e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new m.VideoQualitySelectBox),new v.SettingsPanelItem("Audio Track",new b.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new E.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new O.SubtitleSelectBox)],hidden:!0}),t=new d.ControlBar({components:[e,new a.PlaybackToggleButton,new p.SeekBar({label:new _.SeekBarLabel}),new f.PlaybackTimeLabel,new l.VRToggleButton,new S.VolumeControlButton,new g.SettingsToggleButton({settingsPanel:e}),new P.CastToggleButton,new c.FullscreenToggleButton]});return new i.UIContainer({components:[new T.SubtitleOverlay,new w.CastStatusOverlay,new U.PlaybackToggleOverlay,new y.Watermark,new N.RecommendationOverlay,t,new A.TitleBar,new k.ErrorMessageOverlay],cssClasses:["ui-skin-legacy"]})}function z(){return new i.UIContainer({components:[new H.AdClickOverlay,new d.ControlBar({components:[new a.PlaybackToggleButton,new D.AdMessageLabel,new S.VolumeControlButton,new c.FullscreenToggleButton]}),new I.AdSkipButton],cssClasses:["ui-skin-legacy","ui-skin-ads"]})}function Z(){var e=new d.ControlBar({components:[new p.SeekBar,new f.PlaybackTimeLabel]});return new i.UIContainer({components:[new T.SubtitleOverlay,new U.PlaybackToggleOverlay,new y.Watermark,e,new A.TitleBar,new k.ErrorMessageOverlay],cssClasses:["ui-skin-legacy","ui-skin-cast-receiver"]})}function $(){var e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new m.VideoQualitySelectBox),new v.SettingsPanelItem("Audio Track",new b.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new E.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new O.SubtitleSelectBox)],hidden:!0}),t=new d.ControlBar({components:[e,new a.PlaybackToggleButton,new p.SeekBar({label:new _.SeekBarLabel}),new f.PlaybackTimeLabel,new l.VRToggleButton,new u.VolumeToggleButton,new C.VolumeSlider,new S.VolumeControlButton,new S.VolumeControlButton({vertical:!1}),new g.SettingsToggleButton({settingsPanel:e}),new P.CastToggleButton,new c.FullscreenToggleButton]});return new i.UIContainer({components:[new T.SubtitleOverlay,new w.CastStatusOverlay,new U.PlaybackToggleOverlay,new y.Watermark,new N.RecommendationOverlay,t,new A.TitleBar,new k.ErrorMessageOverlay],cssClasses:["ui-skin-legacy"]})}function J(t,n){return void 0===n&&(n={}),new e(t,[{ui:z(),condition:function(e){return e.isAdWithUI}},{ui:X()}],n)}function ee(t,n){return void 0===n&&(n={}),new e(t,Z(),n)}function te(t,n){return void 0===n&&(n={}),new e(t,$(),n)}t.buildDefaultUI=n,t.buildDefaultSmallScreenUI=o,t.buildDefaultCastReceiverUI=r,t.buildModernUI=Q,t.buildModernSmallScreenUI=K,t.buildModernCastReceiverUI=q,t.buildLegacyUI=J,t.buildLegacyCastReceiverUI=ee,t.buildLegacyTestUI=te}(e.Factory||(e.Factory={}))}(Y=n.UIManager||(n.UIManager={})),n.UIManager=Y;var W=function(){function e(e,t,n){void 0===n&&(n={}),this.events={onConfigured:new h.EventDispatcher,onSeek:new h.EventDispatcher,onSeekPreview:new h.EventDispatcher,onSeeked:new h.EventDispatcher,onComponentShow:new h.EventDispatcher,onComponentHide:new h.EventDispatcher,onControlsShow:new h.EventDispatcher,onPreviewControlsHide:new h.EventDispatcher,onControlsHide:new h.EventDispatcher},this.playerWrapper=new Q(e),this.ui=t,this.config=n}return e.prototype.getConfig=function(){return this.config},e.prototype.getUI=function(){return this.ui},e.prototype.getPlayer=function(){return this.playerWrapper.getPlayer()},Object.defineProperty(e.prototype,"onConfigured",{get:function(){return this.events.onConfigured},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeek",{get:function(){return this.events.onSeek},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeekPreview",{get:function(){return this.events.onSeekPreview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this.events.onSeeked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onComponentShow",{get:function(){return this.events.onComponentShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onComponentHide",{get:function(){return this.events.onComponentHide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onControlsShow",{get:function(){return this.events.onControlsShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPreviewControlsHide",{get:function(){return this.events.onPreviewControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onControlsHide",{get:function(){return this.events.onControlsHide},enumerable:!0,configurable:!0}),e.prototype.clearEventHandlers=function(){this.playerWrapper.clearEventHandlers();var e=this.events;for(var t in e){e[t].unsubscribeAll()}},e}();n.UIInstanceManager=W;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getWrappedPlayer=function(){return this.getPlayer()},t.prototype.configureControls=function(){this.configureControlsTree(this.getUI()),this.configured=!0},t.prototype.isConfigured=function(){return this.configured},t.prototype.configureControlsTree=function(e){var t=this,n=[];x.UIUtils.traverseTree(e,function(e){for(var o=0,i=n;o<i.length;o++){if(i[o]===e)throw console&&console.error("Circular reference in UI tree",e),Error("Circular reference in UI tree: "+e.constructor.name)}e.initialize(),e.configure(t.getPlayer(),t),n.push(e)})},t.prototype.releaseControls=function(){this.configured&&(this.releaseControlsTree(this.getUI()),this.configured=!1),this.released=!0},t.prototype.isReleased=function(){return this.released},t.prototype.releaseControlsTree=function(e){if(e.release(),e instanceof s.Container)for(var t=0,n=e.getComponents();t<n.length;t++){var o=n[t];this.releaseControlsTree(o)}},t.prototype.clearEventHandlers=function(){e.prototype.clearEventHandlers.call(this)},t}(W),Q=function(){function e(e){var t=this;this.eventHandlers={},this.player=e;var n=[];for(var o in e)"function"==typeof e[o]&&n.push(o);for(var i={},r=0,s=n;r<s.length;r++){var o=s[r];!function(t){i[t]=function(){return e[t].apply(e,arguments)}}(o)}for(var o in e)"function"!=typeof e[o]&&(i[o]=e[o]);i.addEventHandler=function(n,o){return e.addEventHandler(n,o),t.eventHandlers[n]||(t.eventHandlers[n]=[]),t.eventHandlers[n].push(o),i},i.removeEventHandler=function(n,o){return e.removeEventHandler(n,o),t.eventHandlers[n]&&x.ArrayUtils.remove(t.eventHandlers[n],o),i},i.fireEventInUI=function(e,n){if(t.eventHandlers[e])for(var o=Object.assign({},{timestamp:Date.now(),type:e,uiSourced:!0},n),i=0,r=t.eventHandlers[e];i<r.length;i++){var s=r[i];s(o)}},this.wrapper=i}return e.prototype.getPlayer=function(){return this.wrapper},e.prototype.clearEventHandlers=function(){for(var e in this.eventHandlers)for(var t=0,n=this.eventHandlers[e];t<n.length;t++){var o=n[t];this.player.removeEventHandler(e,o)}},e}()},{"./components/adclickoverlay":1,"./components/admessagelabel":2,"./components/adskipbutton":3,"./components/airplaytogglebutton":4,"./components/audioqualityselectbox":5,"./components/audiotrackselectbox":6,"./components/bufferingoverlay":7,"./components/caststatusoverlay":9,"./components/casttogglebutton":10,"./components/castuicontainer":11,"./components/closebutton":13,"./components/container":15,"./components/controlbar":16,"./components/errormessageoverlay":17,"./components/fullscreentogglebutton":18,"./components/label":21,"./components/metadatalabel":23,"./components/pictureinpicturetogglebutton":24,"./components/playbackspeedselectbox":25,"./components/playbacktimelabel":26,"./components/playbacktogglebutton":27,"./components/playbacktoggleoverlay":28,"./components/recommendationoverlay":29,"./components/seekbar":30,"./components/seekbarlabel":31,"./components/settingspanel":33,"./components/settingstogglebutton":34,"./components/spacer":35,"./components/subtitleoverlay":36,"./components/subtitleselectbox":37,"./components/titlebar":38,"./components/uicontainer":41,"./components/videoqualityselectbox":42,"./components/volumecontrolbutton":43,"./components/volumeslider":44,"./components/volumetogglebutton":45,"./components/vrtogglebutton":46,"./components/watermark":47,"./dom":48,"./eventdispatcher":49,"./utils":54}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./eventdispatcher"),i=e("./components/container");!function(e){function t(e,t){var n=e.indexOf(t);return n>-1?e.splice(n,1)[0]:null}e.remove=t}(n.ArrayUtils||(n.ArrayUtils={}));!function(e){function t(t,o){void 0===o&&(o=e.FORMAT_HHMMSS);var i=t<0;i&&(t=-t);var r=Math.floor(t/3600),s=Math.floor(t/60)-60*r,a=Math.floor(t)%60;return(i?"-":"")+o.replace("hh",n(r,2)).replace("mm",n(s,2)).replace("ss",n(a,2))}function n(e,t){var n=e+"";return"0000000000".substr(0,t-n.length)+n}function o(e,t,n){var o=new RegExp("\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})","g");return e.replace(o,function(e){var o=0;return e.indexOf("remainingTime")>-1?o=t?Math.ceil(t-n.getCurrentTime()):n.getDuration()-n.getCurrentTime():e.indexOf("playedTime")>-1?o=n.getCurrentTime():e.indexOf("adDuration")>-1&&(o=n.getDuration()),i(o,e)})}function i(e,o){var i=/%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;i.test(o)||(o="%d");var r=0,s=o.match(/(%0[1-9]\d*)(?=(\.\d+f|f|d))/);s&&(r=parseInt(s[0].substring(2)));var a=null,c=o.match(/\.\d*(?=f)/);if(c&&!isNaN(parseInt(c[0].substring(1)))&&(a=parseInt(c[0].substring(1)))>20&&(a=20),o.indexOf("f")>-1){var l="";return l=null!==a?e.toFixed(a):""+e,l.indexOf(".")>-1?n(l,l.length+(r-l.indexOf("."))):n(l,r)}if(o.indexOf(":")>-1){var u=Math.ceil(e);if(o.indexOf("hh")>-1)return t(u);var p=Math.floor(u/60),f=u%60;return n(p,2)+":"+n(f,2)}return n(Math.ceil(e),r)}e.FORMAT_HHMMSS="hh:mm:ss",e.FORMAT_MMSS="mm:ss",e.secondsToTime=t,e.replaceAdMessagePlaceholders=o}(n.StringUtils||(n.StringUtils={}));!function(e){function t(e){return void 0!==e.getConfig().source}function n(e){return e.isLive()&&0!==e.getMaxTimeShift()}function i(e){return e.hasEnded()?s.FINISHED:e.isPlaying()?s.PLAYING:e.isPaused()?s.PAUSED:t(e)?s.PREPARED:s.IDLE}var s;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARED=1]="PREPARED",e[e.PLAYING=2]="PLAYING",e[e.PAUSED=3]="PAUSED",e[e.FINISHED=4]="FINISHED"}(s=e.PlayerState||(e.PlayerState={})),e.isSourceLoaded=t,e.isTimeShiftAvailable=n,e.getState=i;var a=function(){function t(t){var n=this;this.timeShiftAvailabilityChangedEvent=new o.EventDispatcher;var i=void 0,r=function(){if(t.isLive()){var o=e.isTimeShiftAvailable(t);o!==i&&(n.timeShiftAvailabilityChangedEvent.dispatch(t,{timeShiftAvailable:o}),i=o)}};t.addEventHandler(t.EVENT.ON_READY,r),t.addEventHandler(t.EVENT.ON_TIME_CHANGED,r)}return Object.defineProperty(t.prototype,"onTimeShiftAvailabilityChanged",{get:function(){return this.timeShiftAvailabilityChangedEvent.getEvent()},enumerable:!0,configurable:!0}),t}();e.TimeShiftAvailabilityDetector=a;var c=function(){function e(e){var t=this;this.liveChangedEvent=new o.EventDispatcher;var n=void 0,i=function(){var o=e.isLive();o!==n&&(t.liveChangedEvent.dispatch(e,{live:o}),n=o)};e.addEventHandler(e.EVENT.ON_READY,i),e.addEventHandler(e.EVENT.ON_PLAY,i),r.isAndroid&&r.isChrome&&e.addEventHandler(e.EVENT.ON_TIME_CHANGED,i)}return Object.defineProperty(e.prototype,"onLiveChanged",{get:function(){return this.liveChangedEvent.getEvent()},enumerable:!0,configurable:!0}),e}();e.LiveStreamDetector=c}(n.PlayerUtils||(n.PlayerUtils={}));!function(e){function t(e,t){var n=function(e,o){if(t(e,o),e instanceof i.Container)for(var r=0,s=e.getComponents();r<s.length;r++){var a=s[r];n(a,e)}};n(e)}e.traverseTree=t}(n.UIUtils||(n.UIUtils={}));var r;!function(e){e.isMobile=navigator&&navigator.userAgent&&/Mobi/.test(navigator.userAgent),e.isChrome=navigator&&navigator.userAgent&&/Chrome/.test(navigator.userAgent),e.isAndroid=navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)}(r=n.BrowserUtils||(n.BrowserUtils={}))},{"./components/container":15,"./eventdispatcher":49}]},{},[51]);
//# sourceMappingURL=bitmovinplayer-ui.min.js.map
